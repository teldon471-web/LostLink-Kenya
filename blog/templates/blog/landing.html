{% extends 'blog/base.html' %}
{% block content %}
<section class="landing-hero" style="background:linear-gradient(135deg, rgba(37,99,235,0.85), rgba(59,130,246,0.85)), url('https://images.pexels.com/photos/3807517/pexels-photo-3807517.jpeg');background-size:cover;background-position:center;color:white;padding:4rem 1rem;border-radius:8px;margin:2rem 0;">
  <div style="max-width:1000px;margin:0 auto;text-align:center;">
    <h1 style="font-size:2.5rem;margin-bottom:0.5rem;">LostLink Kenya</h1>
    <p style="font-size:1.125rem;opacity:0.95;margin-bottom:1.25rem;">Join your community to help reunite lost items with their owners. Post, search, and connect quickly.</p>
    <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-top:1rem;">
      {% if user.is_authenticated %}
        <a class="btn btn-lg btn-primary" href="{% url 'post-create' %}">Report an Item</a>
        <a class="btn btn-lg btn-light" href="{% url 'blog-home' %}">Browse Items</a>
      {% else %}
        <a class="btn btn-lg btn-primary" href="{% url 'login' %}">Login</a>
        <a class="btn btn-lg btn-light" href="{% url 'register' %}">Register</a>
      {% endif %}
    </div>
  </div>
</section>

<section style="max-width:1100px;margin:0 auto;padding:1rem;">
  <h2 style="text-align:center;margin:1.5rem 0 1rem 0;">Recent Items</h2>
  {% if recent_posts %}
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem;">
      {% for post in recent_posts %}
        <div style="background:white;border-radius:8px;overflow:hidden;border:1px solid #e6e6e6;">
          {% if post.image %}
            <img src="{{ request.scheme }}://{{ request.get_host }}{{ post.image.url }}" alt="{{ post.title }}" style="width:100%;height:150px;object-fit:cover;display:block;">
          {% else %}
            <div style="height:150px;display:flex;align-items:center;justify-content:center;background:#f3f4f6;color:#9ca3af;font-size:2rem;">{% if post.item_type == 'lost' %}ðŸ”´{% else %}ðŸŸ¢{% endif %}</div>
          {% endif %}
          <div style="padding:0.75rem;">
            <h3 style="margin:0 0 0.5rem 0;font-size:1rem;"><a href="{% url 'post-detail' post.pk %}" style="text-decoration:none;color:#0f172a;">{{ post.title|truncatewords:6 }}</a></h3>
            <p style="margin:0;color:#6b7280;font-size:0.9rem;">{{ post.content|truncatewords:12 }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p style="text-align:center;color:#6b7280;">No recent items yet â€” be the first to post.</p>
  {% endif %}
</section>

<section style="max-width:900px;margin:2rem auto;padding:1rem;text-align:center;">
  <h2>How it works</h2>
  <p style="color:#6b7280;">Create a post with details and photos. The community can view and contact you to reunite items.</p>
  <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-top:1rem;">
    <div style="flex:1;min-width:200px;background:white;padding:1rem;border-radius:8px;border:1px solid #e6e6e6;">
      <h4>Post</h4>
      <p style="margin:0;color:#6b7280;">Add details, category and photos to help identify the item.</p>
    </div>
    <div style="flex:1;min-width:200px;background:white;padding:1rem;border-radius:8px;border:1px solid #e6e6e6;">
      <h4>Search</h4>
      <p style="margin:0;color:#6b7280;">Use filters to find items in your area.</p>
    </div>
    <div style="flex:1;min-width:200px;background:white;padding:1rem;border-radius:8px;border:1px solid #e6e6e6;">
      <h4>Connect</h4>
      <p style="margin:0;color:#6b7280;">Contact the poster to confirm and arrange return.</p>
    </div>
  </div>
</section>

{% endblock %}
